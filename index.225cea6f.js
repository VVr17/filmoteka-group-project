function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},o=r.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},r.parcelRequired7c6=o),o.register("kyEFX",(function(t,r){var n,i;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var o={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)o[t[r]]=e[t[r]]},i=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("kyEFX").register(JSON.parse('{"5ZPII":"index.225cea6f.js","7MH8f":"movie-card-plug.555da918.jpg","bHEEy":"index.727327b8.js"}')),o("98X4p"),o("9M0Rn");var a,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt,f="object"==typeof r&&r&&r.Object===Object&&r,h="object"==typeof self&&self&&self.Object===Object&&self,v=f||h||Function("return this")(),p=Object.prototype.toString,g=Math.max,m=Math.min,y=function(){return v.Date.now()};function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==p.call(e)}(e))return NaN;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var r=c.test(e);return r||l.test(e)?d(e.slice(2),r?2:8):u.test(e)?NaN:+e}a=function(e,t,r){var n,i,o,a,s,u,c=0,l=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var r=n,o=i;return n=i=void 0,c=t,a=e.apply(o,r)}function v(e){return c=e,s=setTimeout(E,t),l?h(e):a}function p(e){var r=e-u;return void 0===u||r>=t||r<0||d&&e-c>=o}function E(){var e=y();if(p(e))return _(e);s=setTimeout(E,function(e){var r=t-(e-u);return d?m(r,o-(e-c)):r}(e))}function _(e){return s=void 0,f&&n?h(e):(n=i=void 0,a)}function M(){var e=y(),r=p(e);if(n=arguments,i=this,u=e,r){if(void 0===s)return v(u);if(d)return s=setTimeout(E,t),h(u)}return void 0===s&&(s=setTimeout(E,t)),a}return t=b(t)||0,w(r)&&(l=!!r.leading,o=(d="maxWait"in r)?g(b(r.maxWait)||0,t):o,f="trailing"in r?!!r.trailing:f),M.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=u=i=s=void 0},M.flush=function(){return void 0===s?a:_(y())},M};var E=o("bGr86");window.addEventListener("scroll",t(a)((function(){window.pageYOffset>=1e3?E.buttonUpRef.classList.toggle("hidden",!1):E.buttonUpRef.classList.toggle("hidden",!0)}),500)),o("1wH5c");var _=o("6mZGd"),M=o("jkMrE"),R=o("g6yUq"),T=o("gMe87"),S=(_=o("6mZGd"),M=o("jkMrE"),R=o("g6yUq"),T=o("gMe87"),o("hl3Cc")),j=o("8iF6T");const O={BASE_URL:"https://api.themoviedb.org/3/",GENRES_PATH_URL:"genre/movie/list",TRENDINGS_PATH_URL:"trending/movie/day",SEARCH_PATH_URL:"search/movie",BASE_IMAGE_URL:"https://image.tmdb.org/t/p/w500"};var x,H=new WeakMap,L=new WeakMap,k=new WeakSet,F=new WeakSet;x=new URL(o("kyEFX").resolve("7MH8f"),import.meta.url).toString();function P(e){e.genres=[];for(let r=0;r<e.genre_ids.length;r++){if(r===this.maxGenres){e.genres[r-1]="Others";break}e.genres.push(t(S)(this,F,U).call(this,e.genre_ids[r]))}}function U(e){return t(M)(this,H).find((t=>t.id===e)).name}var A=o("cEPyp");const G=new(0,_.default),I=new class{update(e,r){t(T)(this,L,e),t(T)(this,H,r),e.forEach((e=>{t(S)(this,k,P).call(this,e),e.release_date&&(e.date=e.release_date),this.checkMoviePoster(e)}))}checkMoviePoster(e){if(!e)throw new Error("Object movie is undefined, null, empty string etc...");if(e.poster_path)e.poster_path=O.BASE_IMAGE_URL+e.poster_path;else{const t=new URL(x);e.poster_path=t}}constructor(){t(j)(this,k),t(j)(this,F),t(R)(this,H,{writable:!0,value:void 0}),t(R)(this,L,{writable:!0,value:void 0}),this.maxGenres=3}};var N=new WeakMap,C=new WeakMap;var W=o("6nUKJ"),D=(A=o("cEPyp"),o("9M0Rn"));E=o("bGr86");var Q=o("hMpod");E=o("bGr86");new(0,_.default);(new(0,W.default)).addGalleryHandler();const q=new class{async getPopularMovies(e){this.genres=await G.fetchGenres();return(await G.fetchTrendingMovies(e)).data}renderCards(e){I.update(e,this.genres),t(M)(this,N).innerHTML=t(M)(this,C).call(this,{movies:e,library:!1}),document.querySelector("#header").scrollIntoView(top),A.localStorageFilms.addItemsOnCurrentPage(e)}async getQueryMovies(e,t=1){if(this.currentQuery=e,""===e)return;return await G.getMoviesByName(e,t)}async getMovieDetails(e){if(!e)return;return await G.fetchMoviesByID(e)}constructor(e,r){t(R)(this,N,{writable:!0,value:void 0}),t(R)(this,C,{writable:!0,value:void 0}),t(T)(this,N,e),t(T)(this,C,r),this.currentQuery="",this.genres=null}}(E.containerGallery,Q.default),B=new(0,D.default)(E.containerPag),X=new class{hide(){this.spinnerRef.classList.add("is-hidden"),this.hidden=!0}show(){this.spinnerRef.classList.remove("is-hidden"),this.hidden=!1}constructor(){this.spinnerRef=E.spinnerRef,this.hidden=!0}};async function $(e=1){X.show();try{const t=await q.getPopularMovies(e);X.hide(),q.renderCards(t.results),B.updateTotalItems(t.total_results),B.goToPage(e),B.render()}catch(e){console.error(e)}}async function Z(e,t=1){try{const r=await q.getQueryMovies(e,t);if(!r)return J("Search result not successful. Enter the correct movie name and try again!"),void $();if(0===r.total_results)return J("Search result not successful. Enter the correct movie name and try again!"),void $();console.log("Searched Movies:",r),q.renderCards(r.results),B.updateTotalItems(r.total_results),B.goToPage(t),B.render()}catch(e){console.log(e)}}function J(e){E.searchFormRef.dataset.message=e,setTimeout((()=>{E.searchFormRef.dataset.message=""}),4e3)}E.searchFormRef.addEventListener("submit",(function(e){e.preventDefault();Z(e.target.elements.search.value.trim())&&this.reset()})),B.on("aftermove",(e=>{q.currentQuery?Z(q.currentQuery,e.page):$(e.page)})),A.localStorageFilms.saveItemsForArrayAfterReload(),$(),o("bTcpz"),o("16eij");
//# sourceMappingURL=index.225cea6f.js.map
