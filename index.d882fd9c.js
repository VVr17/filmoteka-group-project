!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return r[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},t.parcelRequired7c6=i),i("2p6Fd"),i("fc6Dh");var a,u=i("l5bVx"),o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,f=/^0o[0-7]+$/i,l=parseInt,d="object"==typeof t&&t&&t.Object===Object&&t,p="object"==typeof self&&self&&self.Object===Object&&self,v=d||p||Function("return this")(),h=Object.prototype.toString,g=Math.max,b=Math.min,m=function(){return v.Date.now()};function y(t){var r=void 0===t?"undefined":e(u)(t);return!!t&&("object"==r||"function"==r)}function w(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":e(u)(t))||function(e){return!!e&&"object"==typeof e}(t)&&"[object Symbol]"==h.call(t)}(t))return NaN;if(y(t)){var r="function"==typeof t.valueOf?t.valueOf():t;t=y(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var n=c.test(t);return n||f.test(t)?l(t.slice(2),n?2:8):s.test(t)?NaN:+t}a=function(e,t,r){var n,i,a,u,o,s,c=0,f=!1,l=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var r=n,a=i;return n=i=void 0,c=t,u=e.apply(a,r)}function v(e){return c=e,o=setTimeout(x,t),f?p(e):u}function h(e){var r=e-s;return void 0===s||r>=t||r<0||l&&e-c>=a}function x(){var e=m();if(h(e))return T(e);o=setTimeout(x,function(e){var r=t-(e-s);return l?b(r,a-(e-c)):r}(e))}function T(e){return o=void 0,d&&n?p(e):(n=i=void 0,u)}function k(){var e=m(),r=h(e);if(n=arguments,i=this,s=e,r){if(void 0===o)return v(s);if(l)return o=setTimeout(x,t),p(s)}return void 0===o&&(o=setTimeout(x,t)),u}return t=w(t)||0,y(r)&&(f=!!r.leading,a=(l="maxWait"in r)?g(w(r.maxWait)||0,t):a,d="trailing"in r?!!r.trailing:d),k.cancel=function(){void 0!==o&&clearTimeout(o),c=0,n=s=i=o=void 0},k.flush=function(){return void 0===o?u:T(m())},k};var x=i("ikGeD");window.addEventListener("scroll",e(a)((function(){window.pageYOffset>=1e3?x.buttonUpRef.classList.toggle("hidden",!1):x.buttonUpRef.classList.toggle("hidden",!0)}),500)),i("3jSZ7");var T=i("bpxeT"),k=i("2TvXO"),M=i("bKaad"),O=(T=i("bpxeT"),i("8MBJY")),R=i("4KMWL"),j=i("8MQK7"),C=i("dPxxm"),D=i("a2hTj"),F=(k=i("2TvXO"),M=i("bKaad"),i("1LeHf")),N=i("8Seta"),S=new(0,M.default),_=new(0,F.default),E=new WeakMap,L=new WeakMap,I=function(){"use strict";function t(r,n){e(O)(this,t),e(j)(this,E,{writable:!0,value:void 0}),e(j)(this,L,{writable:!0,value:void 0}),e(C)(this,E,r),e(C)(this,L,n),this.currentQuery="",this.genres=null}return e(D)(t,[{key:"getPopularMovies",value:function(t){var r=this;return e(T)(e(k).mark((function n(){var i;return e(k).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.fetchGenres();case 2:return r.genres=e.sent,e.next=5,S.fetchTrendingMovies(t);case 5:return i=e.sent,e.abrupt("return",i.data);case 7:case"end":return e.stop()}}),n)})))()}},{key:"renderCards",value:function(t){_.update(t,this.genres),e(R)(this,E).innerHTML=e(R)(this,L).call(this,{movies:t,library:!1}),document.querySelector("#header").scrollIntoView(top),N.localStorageFilms.addItemsOnCurrentPage(t)}},{key:"getQueryMovies",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this;return e(T)(e(k).mark((function i(){var a;return e(k).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.currentQuery=t,""!==t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,S.getMoviesByName(t,r);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),i)})))()}},{key:"getMovieDetails",value:function(t){return e(T)(e(k).mark((function r(){var n;return e(k).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,S.fetchMoviesByID(t);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),r)})))()}}]),t}(),P=i("7MumP"),Q=(N=i("8Seta"),i("fc6Dh")),G=(O=i("8MBJY"),D=i("a2hTj"),x=i("ikGeD"),function(){"use strict";function t(){e(O)(this,t),this.spinnerRef=x.spinnerRef,this.hidden=!0}return e(D)(t,[{key:"hide",value:function(){this.spinnerRef.classList.add("is-hidden"),this.hidden=!0}},{key:"show",value:function(){this.spinnerRef.classList.remove("is-hidden"),this.hidden=!1}}]),t}()),U=i("85dma"),A=i("iqi4A");x=i("ikGeD"),new(0,M.default);(new(0,P.default)).addGalleryHandler();var H=new I(x.containerGallery,U.default),W=new(0,Q.default)(x.containerPag),Y=new G;function q(){return B.apply(this,arguments)}function B(){return B=e(T)(e(k).mark((function t(){var r,n,i=arguments;return e(k).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:1,Y.show(),e.prev=2,e.next=5,H.getPopularMovies(r);case 5:n=e.sent,Y.hide(),H.renderCards(n.results),W.updateTotalItems(n.total_results),W.goToPage(r),W.render(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0);case 16:case"end":return e.stop()}}),t,null,[[2,13]])}))),B.apply(this,arguments)}function K(e){return $.apply(this,arguments)}function $(){return $=e(T)(e(k).mark((function t(r){var n,i,a=arguments;return e(k).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:1,e.prev=1,e.next=4,H.getQueryMovies(r,n);case 4:if(i=e.sent){e.next=9;break}return V(A.NOTIFY_UNCORRECT_SEARCH),q(),e.abrupt("return");case 9:if(0!==i.total_results){e.next=13;break}return V(A.NOTIFY_UNCORRECT_SEARCH),q(),e.abrupt("return");case 13:console.log("Searched Movies:",i),H.renderCards(i.results),W.updateTotalItems(i.total_results),W.goToPage(n),W.render(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.log(e.t0);case 23:case"end":return e.stop()}}),t,null,[[1,20]])}))),$.apply(this,arguments)}function V(e){x.searchFormRef.dataset.message=e,setTimeout((function(){x.searchFormRef.dataset.message=""}),4e3)}x.searchFormRef.addEventListener("submit",(function(e){e.preventDefault(),K(e.target.elements.search.value.trim())&&this.reset()})),W.on("aftermove",(function(e){H.currentQuery?K(H.currentQuery,e.page):q(e.page)})),N.localStorageFilms.saveItemsForArrayAfterReload(),q(),i("5xtVg"),i("aruhj")}();
//# sourceMappingURL=index.d882fd9c.js.map
