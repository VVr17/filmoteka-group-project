!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},a=r.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},r.parcelRequired7c6=a),a.register("iE7OH",(function(t,r){var n,i;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var a={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)a[t[r]]=e[t[r]]},i=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a.register("aNJCr",(function(t,r){var n;e(t.exports,"getBundleURL",(function(){return n}),(function(e){return n=e}));var i={};function a(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(e){var t=i[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),i[e]=t),t}})),a("iE7OH").register(JSON.parse('{"EVgbq":"index.f1f126b7.js","3ymeN":"movie-card-plug.555da918.jpg","8iN6L":"index.771ae5cf.js"}')),a("2p6Fd"),a("fc6Dh");var o,u=a("l5bVx"),s=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt,h="object"==typeof r&&r&&r.Object===Object&&r,p="object"==typeof self&&self&&self.Object===Object&&self,v=h||p||Function("return this")(),g=Object.prototype.toString,m=Math.max,b=Math.min,w=function(){return v.Date.now()};function y(e){var r=void 0===e?"undefined":t(u)(e);return!!e&&("object"==r||"function"==r)}function x(e){if("number"==typeof e)return e;if(function(e){return"symbol"==(void 0===e?"undefined":t(u)(e))||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==g.call(e)}(e))return NaN;if(y(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=y(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=f.test(e);return n||l.test(e)?d(e.slice(2),n?2:8):c.test(e)?NaN:+e}o=function(e,t,r){var n,i,a,o,u,s,c=0,f=!1,l=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var r=n,a=i;return n=i=void 0,c=t,o=e.apply(a,r)}function p(e){return c=e,u=setTimeout(g,t),f?h(e):o}function v(e){var r=e-s;return void 0===s||r>=t||r<0||l&&e-c>=a}function g(){var e=w();if(v(e))return k(e);u=setTimeout(g,function(e){var r=t-(e-s);return l?b(r,a-(e-c)):r}(e))}function k(e){return u=void 0,d&&n?h(e):(n=i=void 0,o)}function _(){var e=w(),r=v(e);if(n=arguments,i=this,s=e,r){if(void 0===u)return p(s);if(l)return u=setTimeout(g,t),h(s)}return void 0===u&&(u=setTimeout(g,t)),o}return t=x(t)||0,y(r)&&(f=!!r.leading,a=(l="maxWait"in r)?m(x(r.maxWait)||0,t):a,d="trailing"in r?!!r.trailing:d),_.cancel=function(){void 0!==u&&clearTimeout(u),c=0,n=s=i=u=void 0},_.flush=function(){return void 0===u?o:k(w())},_};var k=a("ikGeD");window.addEventListener("scroll",t(o)((function(){window.pageYOffset>=1e3?k.buttonUpRef.classList.toggle("hidden",!1):k.buttonUpRef.classList.toggle("hidden",!0)}),500)),a("3jSZ7");var _,M=a("bpxeT"),E=a("2TvXO"),R=a("bKaad"),T=(M=a("bpxeT"),a("8MBJY")),O=a("4KMWL"),S=a("8MQK7"),j=a("dPxxm"),L=a("a2hTj"),N=(E=a("2TvXO"),R=a("bKaad"),T=a("8MBJY"),O=a("4KMWL"),S=a("8MQK7"),j=a("dPxxm"),a("beht7")),A=a("fyAfh"),H=(L=a("a2hTj"),{BASE_URL:"https://api.themoviedb.org/3/",GENRES_PATH_URL:"genre/movie/list",TRENDINGS_PATH_URL:"trending/movie/day",SEARCH_PATH_URL:"search/movie",BASE_IMAGE_URL:"https://image.tmdb.org/t/p/w500"}),P="Search result not successful. Enter the correct movie name and try again!",U=new WeakMap,D=new WeakMap,F=new WeakSet,G=new WeakSet;_=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("3ymeN");var B=function(){"use strict";function e(){t(T)(this,e),t(A)(this,F),t(A)(this,G),t(S)(this,U,{writable:!0,value:void 0}),t(S)(this,D,{writable:!0,value:void 0}),this.maxGenres=3}return t(L)(e,[{key:"update",value:function(e,r){var n=this;t(j)(this,D,e),t(j)(this,U,r),e.forEach((function(e){t(N)(n,F,I).call(n,e),e.release_date&&(e.date=e.release_date),n.checkMoviePoster(e)}))}},{key:"checkMoviePoster",value:function(e){if(!e)throw new Error("Object movie is undefined, null, empty string etc...");if(e.poster_path)e.poster_path=H.BASE_IMAGE_URL+e.poster_path;else{var t=new URL(_);e.poster_path=t}}}]),e}();function I(e){e.genres=[];for(var r=0;r<e.genre_ids.length;r++){if(r===this.maxGenres){e.genres[r-1]="Others";break}e.genres.push(t(N)(this,G,W).call(this,e.genre_ids[r]))}}function W(e){return t(O)(this,U).find((function(t){return t.id===e})).name}var C=a("8Seta"),Q=new(0,R.default),J=new B,K=new WeakMap,$=new WeakMap,q=function(){"use strict";function e(r,n){t(T)(this,e),t(S)(this,K,{writable:!0,value:void 0}),t(S)(this,$,{writable:!0,value:void 0}),t(j)(this,K,r),t(j)(this,$,n),this.currentQuery="",this.genres=null}return t(L)(e,[{key:"getPopularMovies",value:function(e){var r=this;return t(M)(t(E).mark((function n(){var i;return t(E).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.fetchGenres();case 2:return r.genres=t.sent,t.next=5,Q.fetchTrendingMovies(e);case 5:return i=t.sent,t.abrupt("return",i.data);case 7:case"end":return t.stop()}}),n)})))()}},{key:"renderCards",value:function(e){J.update(e,this.genres),t(O)(this,K).innerHTML=t(O)(this,$).call(this,{movies:e,library:!1}),document.querySelector("#header").scrollIntoView(top),C.localStorageFilms.addItemsOnCurrentPage(e)}},{key:"getQueryMovies",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this;return t(M)(t(E).mark((function i(){var a;return t(E).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.currentQuery=e,""!==e){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Q.getMoviesByName(e,r);case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),i)})))()}},{key:"getMovieDetails",value:function(e){return t(M)(t(E).mark((function r(){var n;return t(E).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Q.fetchMoviesByID(e);case 4:return n=t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}}),r)})))()}}]),e}(),V=a("7MumP"),Y=(C=a("8Seta"),a("fc6Dh")),z=(T=a("8MBJY"),L=a("a2hTj"),k=a("ikGeD"),function(){"use strict";function e(){t(T)(this,e),this.spinnerRef=k.spinnerRef,this.hidden=!0}return t(L)(e,[{key:"hide",value:function(){this.spinnerRef.classList.add("is-hidden"),this.hidden=!0}},{key:"show",value:function(){this.spinnerRef.classList.remove("is-hidden"),this.hidden=!1}}]),e}()),X=a("85dma");k=a("ikGeD"),new(0,R.default);(new(0,V.default)).addGalleryHandler();var Z=new q(k.containerGallery,X.default),ee=new(0,Y.default)(k.containerPag),te=new z;function re(){return ne.apply(this,arguments)}function ne(){return ne=t(M)(t(E).mark((function e(){var r,n,i=arguments;return t(E).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:1,te.show(),e.prev=2,e.next=5,Z.getPopularMovies(r);case 5:n=e.sent,te.hide(),Z.renderCards(n.results),ee.updateTotalItems(n.total_results),ee.goToPage(r),ee.render(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])}))),ne.apply(this,arguments)}function ie(e){return ae.apply(this,arguments)}function ae(){return ae=t(M)(t(E).mark((function e(r){var n,i,a=arguments;return t(E).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:1,e.prev=1,e.next=4,Z.getQueryMovies(r,n);case 4:if(i=e.sent){e.next=9;break}return oe(P),re(),e.abrupt("return");case 9:if(0!==i.total_results){e.next=13;break}return oe(P),re(),e.abrupt("return");case 13:console.log("Searched Movies:",i),Z.renderCards(i.results),ee.updateTotalItems(i.total_results),ee.goToPage(n),ee.render(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[1,20]])}))),ae.apply(this,arguments)}function oe(e){k.searchFormRef.dataset.message=e,setTimeout((function(){k.searchFormRef.dataset.message=""}),4e3)}k.searchFormRef.addEventListener("submit",(function(e){e.preventDefault(),ie(e.target.elements.search.value.trim())&&this.reset()})),ee.on("aftermove",(function(e){Z.currentQuery?ie(Z.currentQuery,e.page):re(e.page)})),C.localStorageFilms.saveItemsForArrayAfterReload(),re(),a("5xtVg"),a("aruhj")}();
//# sourceMappingURL=index.f1f126b7.js.map
