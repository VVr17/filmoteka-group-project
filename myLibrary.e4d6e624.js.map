{"mappings":"gfAEAA,EAAA,S,oHAeuB,IAAI,EAAAC,EAAAC,UACZC,oBAEf,IAAMC,EAAeC,SAASC,cAAc,QACzB,IAAI,EAAAC,EAAAL,SAAWE,GAElCI,EAAAC,kBAAkBC,+BAkBlB,IAAMC,EAAmBN,SAASC,cAAc,kBAChC,IAAI,EAAAM,EAAAV,SAAQS,EAAkBE,EAAAX,SAI9B,IAAI,EAAAY,EAAAZ,SAAQ,eAGb,SAAAa,EAAcC,GAC3B,IACE,IAAMC,EAAkBC,aAAaC,QAAQH,GAC7C,OAA2B,OAApBC,OAA2BG,EAAYC,KAAKC,MAAML,E,CACzD,MAAOM,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,EAM7C,IAAMC,EAASX,EAAK,SACdY,EAASZ,EAAK,SAEpBS,QAAQI,IAAIF,QAEGN,IAAXM,GACEA,EAAOG,OAAS,GAClBC,EAAgBJ,GAIpB,IAAMK,EAAM1B,SAASC,cAAc,WAC7B0B,EAAWD,EAAIE,iBAAiB,sBAyBtC,SAASH,EAAgBI,GACL7B,SAASC,cAAc,kBAC/B6B,WAAY,EAAAtB,EAAAX,SAAS,CAAEgC,SAAQE,SAAS,G,CA1BpDZ,QAAQI,IAAII,GAEZD,EAAIM,iBAAiB,SAErB,SAAmBC,GACjB,GAA8B,WAA1BA,EAAMC,OAAOC,SACf,OAEFR,EAASS,SAAQ,SAAUC,GACzBA,EAAOC,UAAUC,OAAO,iB,IAGO,YAA7BN,EAAMC,OAAOM,aAEfP,EAAMC,OAAOI,UAAUG,IAAI,kBAE3BhB,EAAgBJ,IACsB,UAA7BY,EAAMC,OAAOM,cAEtBP,EAAMC,OAAOI,UAAUG,IAAI,kBAC3BhB,EAAgBH,G","sources":["src/myLibrary.js"],"sourcesContent":["// do not write code here\n// only import can be inserted\nimport './js/utils/handlebars-helpers';\n\n//Anton's temporary test code----------------------------\n// import './js/temp/antonTempTest';\n//Anton's temporary test code----------------------------\n\nimport './js/classes/HeaderBtnHandler';\nimport './js/modal';\nimport './js/teamAccordion';\n\nimport Pagination from './js/classes/Pagination';\nimport GalleryHandler from './js/classes/GalleryHandler';\nimport template from './templates/movieCard.hbs';\nimport { localStorageFilms } from './js/classes/ModalBtn';\n\nconst galleryHandler = new GalleryHandler();\ngalleryHandler.addGalleryHandler();\n\nconst containerPag = document.querySelector('.pag');\nconst pagination = new Pagination(containerPag);\n\nlocalStorageFilms.saveItemsForArrayAfterReload();\n\n// console.log('this is inside Library');\n// console.log('pagination', pagination);\n// console.log('template', template);\n// console.log('galleryHandler', galleryHandler);\n\n// import './js/utils/handlebars-helpers';\n// import movieCardTemplate from './templates/movieCard.hbs';\n// import localStorageFilms from './js/classes/ModalBtn';\n\n// import Pagination from './classes/Pagination';\n// import ApiService from './classes/ApiService';\n// import GalleryHandler from './classes/GalleryHandler';\nimport Spinner from './js/classes/spinner';\nimport Gallery from './js/classes/Gallery';\n// import template from '../templates/movieCard.hbs';\n\nconst containerGallery = document.querySelector('.gallery__list');\nconst gallery = new Gallery(containerGallery, template);\n\n// const containerPag = document.querySelector('.pag');\n// const pagination = new Pagination(containerPag);\nconst spinner = new Spinner('.js-spinner');\n\n// ф-ция взять из локал стор\nexport default function load(key) {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n}\n\n// localStorage.clear();\n\nconst keyOne = load('watch');\nconst keyTwo = load('queue');\n\nconsole.log(keyOne);\n\nif (keyOne !== undefined) {\n  if (keyOne.length > 0) {\n    tempRenderCards(keyOne);\n  }\n}\n\nconst btn = document.querySelector('.header');\nconst btnWatch = btn.querySelectorAll('.button--dark-mode');\nconsole.log(btnWatch);\n\nbtn.addEventListener('click', selectBtn);\n\nfunction selectBtn(event) {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  btnWatch.forEach(function (button) {\n    button.classList.remove('button--active');\n  });\n\n  if (event.target.textContent === 'watched') {\n    // console.log(\"watched\")\n    event.target.classList.add('button--active');\n\n    tempRenderCards(keyOne);\n  } else if (event.target.textContent === 'queue') {\n    // console.log(\"queue\");\n    event.target.classList.add('button--active');\n    tempRenderCards(keyTwo);\n  }\n}\n\nfunction tempRenderCards(movies) {\n  const container = document.querySelector('.gallery__list');\n  container.innerHTML = template({ movies, library: true });\n}\n\n// if (window.location.pathname === '/myLibrary.html') {\n//   pagination.on('aftermove', event => {\n//   console.log(event.page);\n\n//   fetchMovies(event.page);\n// });\n\n// fetchMovies();\n\n// async function fetchMovies(page = 1) {\n//   spinner.show();\n//   try {\n//     const movies = await gallery.tempRenderCards(page);\n//     spinner.hide();\n//     console.log(movies);\n//     gallery.renderCards(movies.results);\n\n//     pagination.updateTotalItems(movies.total_results);\n//     pagination.render();\n//   } catch (error) {\n//     console.error(error);\n//   }\n// }\n\n// }\n"],"names":["parcelRequire","$7MumP","default","addGalleryHandler","$de91a1af95a41f9e$var$containerPag","document","querySelector","$fc6Dh","$8Seta","localStorageFilms","saveItemsForArrayAfterReload","$de91a1af95a41f9e$var$containerGallery","$gOExu","$85dma","$kDGKR","$de91a1af95a41f9e$export$2e2bcd8739ae039","key","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","message","$de91a1af95a41f9e$var$keyOne","$de91a1af95a41f9e$var$keyTwo","log","length","$de91a1af95a41f9e$var$tempRenderCards","$de91a1af95a41f9e$var$btn","$de91a1af95a41f9e$var$btnWatch","querySelectorAll","movies","innerHTML","library","addEventListener","event","target","nodeName","forEach","button","classList","remove","textContent","add"],"version":3,"file":"myLibrary.e4d6e624.js.map"}