!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i),i("2p6Fd"),i("fc6Dh");var a,u=i("l5bVx"),o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,f=/^0o[0-7]+$/i,l=parseInt,d="object"==typeof t&&t&&t.Object===Object&&t,p="object"==typeof self&&self&&self.Object===Object&&self,v=d||p||Function("return this")(),h=Object.prototype.toString,g=Math.max,b=Math.min,m=function(){return v.Date.now()};function y(t){var n=void 0===t?"undefined":e(u)(t);return!!t&&("object"==n||"function"==n)}function w(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":e(u)(t))||function(e){return!!e&&"object"==typeof e}(t)&&"[object Symbol]"==h.call(t)}(t))return NaN;if(y(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=y(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var r=c.test(t);return r||f.test(t)?l(t.slice(2),r?2:8):s.test(t)?NaN:+t}a=function(e,t,n){var r,i,a,u,o,s,c=0,f=!1,l=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,a=i;return r=i=void 0,c=t,u=e.apply(a,n)}function v(e){return c=e,o=setTimeout(x,t),f?p(e):u}function h(e){var n=e-s;return void 0===s||n>=t||n<0||l&&e-c>=a}function x(){var e=m();if(h(e))return T(e);o=setTimeout(x,function(e){var n=t-(e-s);return l?b(n,a-(e-c)):n}(e))}function T(e){return o=void 0,d&&r?p(e):(r=i=void 0,u)}function k(){var e=m(),n=h(e);if(r=arguments,i=this,s=e,n){if(void 0===o)return v(s);if(l)return o=setTimeout(x,t),p(s)}return void 0===o&&(o=setTimeout(x,t)),u}return t=w(t)||0,y(n)&&(f=!!n.leading,a=(l="maxWait"in n)?g(w(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),k.cancel=function(){void 0!==o&&clearTimeout(o),c=0,r=s=i=o=void 0},k.flush=function(){return void 0===o?u:T(m())},k};var x=i("ikGeD");window.addEventListener("scroll",e(a)((function(){window.pageYOffset>=1e3?x.buttonUpRef.classList.toggle("hidden",!1):x.buttonUpRef.classList.toggle("hidden",!0)}),500)),i("3jSZ7");var T=i("bpxeT"),k=i("2TvXO"),M=i("bKaad"),R=(T=i("bpxeT"),i("8MBJY")),O=i("4KMWL"),j=i("8MQK7"),D=i("dPxxm"),C=i("a2hTj"),F=(k=i("2TvXO"),M=i("bKaad"),i("1LeHf")),N=i("8Seta"),_=(x=i("ikGeD"),new(0,M.default)),E=new(0,F.default),L=new WeakMap,S=new WeakMap,I=function(){"use strict";function t(n,r){e(R)(this,t),e(j)(this,L,{writable:!0,value:void 0}),e(j)(this,S,{writable:!0,value:void 0}),e(D)(this,L,n),e(D)(this,S,r),this.currentQuery="",this.genres=null}return e(C)(t,[{key:"getPopularMovies",value:function(t){var n=this;return e(T)(e(k).mark((function r(){var i;return e(k).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.fetchGenres();case 2:return n.genres=e.sent,e.next=5,_.fetchTrendingMovies(t);case 5:return i=e.sent,e.abrupt("return",i.data);case 7:case"end":return e.stop()}}),r)})))()}},{key:"renderCards",value:function(t){E.update(t,this.genres),e(O)(this,L).innerHTML=e(O)(this,S).call(this,{movies:t,library:!1}),x.headerRef.scrollIntoView(top),N.localStorageFilms.addItemsOnCurrentPage(t)}},{key:"getQueryMovies",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this;return e(T)(e(k).mark((function i(){var a;return e(k).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.currentQuery=t,""!==t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,_.getMoviesByName(t,n);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),i)})))()}},{key:"getMovieDetails",value:function(t){return e(T)(e(k).mark((function n(){var r;return e(k).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_.fetchMoviesByID(t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),n)})))()}}]),t}(),P=i("7MumP"),G=(N=i("8Seta"),i("fc6Dh")),Q=(R=i("8MBJY"),C=i("a2hTj"),x=i("ikGeD"),function(){"use strict";function t(){e(R)(this,t),this.spinnerRef=x.spinnerRef,this.hidden=!0}return e(C)(t,[{key:"hide",value:function(){this.spinnerRef.classList.add("is-hidden"),this.hidden=!0}},{key:"show",value:function(){this.spinnerRef.classList.remove("is-hidden"),this.hidden=!1}}]),t}()),U=i("85dma"),A=i("iqi4A");x=i("ikGeD"),new(0,M.default);(new(0,P.default)).addGalleryHandler();var H=new I(x.containerGallery,U.default),W=new(0,G.default)(x.containerPag),Y=new Q;function B(){return K.apply(this,arguments)}function K(){return K=e(T)(e(k).mark((function t(){var n,r,i=arguments;return e(k).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:1,Y.show(),e.prev=2,e.next=5,H.getPopularMovies(n);case 5:r=e.sent,Y.hide(),H.renderCards(r.results),W.updateTotalItems(r.total_results),W.goToPage(n),W.render(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0);case 16:case"end":return e.stop()}}),t,null,[[2,13]])}))),K.apply(this,arguments)}function $(e){return q.apply(this,arguments)}function q(){return q=e(T)(e(k).mark((function t(n){var r,i,a=arguments;return e(k).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:1,e.prev=1,e.next=4,H.getQueryMovies(n,r);case 4:if(i=e.sent){e.next=9;break}return V(A.NOTIFY_UNCORRECT_SEARCH),B(),e.abrupt("return");case 9:if(0!==i.total_results){e.next=13;break}return V(A.NOTIFY_UNCORRECT_SEARCH),B(),e.abrupt("return");case 13:console.log("Searched Movies:",i),H.renderCards(i.results),W.updateTotalItems(i.total_results),W.goToPage(r),W.render(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.log(e.t0);case 23:case"end":return e.stop()}}),t,null,[[1,20]])}))),q.apply(this,arguments)}function V(e){x.searchFormRef.dataset.message=e,setTimeout((function(){x.searchFormRef.dataset.message=""}),4e3)}x.searchFormRef.addEventListener("submit",(function(e){e.preventDefault(),$(e.target.elements.search.value.trim())&&this.reset()})),W.on("aftermove",(function(e){H.currentQuery?$(H.currentQuery,e.page):B(e.page)})),N.localStorageFilms.saveItemsForArrayAfterReload(),B(),i("5xtVg"),i("aruhj")}();
//# sourceMappingURL=index.3135a672.js.map
