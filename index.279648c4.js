!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},s=t.parcelRequired7c6;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired7c6=s),s("2p6Fd"),s("fc6Dh"),s("grfDF"),s("3jSZ7");var i=s("bpxeT"),a=s("2TvXO"),u=s("bKaad"),o=(i=s("bpxeT"),s("8MBJY")),c=s("4KMWL"),l=s("8MQK7"),f=s("dPxxm"),d=s("a2hTj"),h=(a=s("2TvXO"),u=s("bKaad"),s("1LeHf")),v=s("8Seta"),p=s("ikGeD"),m=new(0,u.default),w=new(0,h.default),g=new WeakMap,y=new WeakMap,b=function(){"use strict";function t(n,r){e(o)(this,t),e(l)(this,g,{writable:!0,value:void 0}),e(l)(this,y,{writable:!0,value:void 0}),e(f)(this,g,n),e(f)(this,y,r),this.currentQuery="",this.genres=null}return e(d)(t,[{key:"getPopularMovies",value:function(t){var n=this;return e(i)(e(a).mark((function r(){var s;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.fetchGenres();case 2:return n.genres=e.sent,e.next=5,m.fetchTrendingMovies(t);case 5:return s=e.sent,e.abrupt("return",s.data);case 7:case"end":return e.stop()}}),r)})))()}},{key:"renderCards",value:function(t){w.update(t,this.genres),e(c)(this,g).innerHTML=e(c)(this,y).call(this,{movies:t,library:!1}),p.headerRef.scrollIntoView(top),v.localStorageFilms.addItemsOnCurrentPage(t)}},{key:"getQueryMovies",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this;return e(i)(e(a).mark((function s(){var i;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.currentQuery=t,""!==t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,m.getMoviesByName(t,n);case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),s)})))()}},{key:"getMovieDetails",value:function(t){return e(i)(e(a).mark((function n(){var r;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m.fetchMoviesByID(t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),n)})))()}}]),t}(),M=s("7MumP"),x=(v=s("8Seta"),s("fc6Dh")),k=(o=s("8MBJY"),d=s("a2hTj"),p=s("ikGeD"),function(){"use strict";function t(){e(o)(this,t),this.spinnerRef=p.spinnerRef,this.hidden=!0}return e(d)(t,[{key:"hide",value:function(){this.spinnerRef.classList.add("is-hidden"),this.hidden=!0}},{key:"show",value:function(){this.spinnerRef.classList.remove("is-hidden"),this.hidden=!1}}]),t}()),T=s("85dma"),L=s("iqi4A"),R=(p=s("ikGeD"),o=s("8MBJY"),c=s("4KMWL"),l=s("8MQK7"),f=s("dPxxm"),d=s("a2hTj"),s("hKHmD")),D=new WeakMap,F=new WeakMap,S=new WeakMap,H=new WeakMap,P=function(){"use strict";function t(){e(o)(this,t),e(l)(this,D,{writable:!0,value:"Search result is successful!"}),e(l)(this,F,{writable:!0,value:"Search result is unsuccessful. Enter the movie name and try again!"}),e(R)(this,"note",document.querySelector(".notify")),e(l)(this,S,{writable:!0,value:!0}),e(l)(this,H,{writable:!0,value:!0})}return e(d)(t,[{key:"notifyFailure",value:function(){if(e(c)(this,S)){var t=this;e(f)(this,S,!1),this.note.classList.add("failure"),this.note.classList.remove("invisible","success"),this.note.innerHTML="".concat(e(c)(this,F)),setTimeout((function(){e(c)(t,H)&&t.note.classList.add("invisible")}),3e3),setTimeout((function(){e(f)(t,S,!0),e(c)(t,H)&&(t.note.classList.remove("failure"),t.note.innerHTML="")}),4e3)}}},{key:"notifySuccess",value:function(){if(e(c)(this,H)){var t=this;e(f)(this,H,!1),this.note.classList.add("success"),this.note.classList.remove("invisible","failure"),this.note.innerHTML="".concat(e(c)(this,D)),setTimeout((function(){e(c)(t,S)&&t.note.classList.add("invisible")}),3e3),setTimeout((function(){e(f)(t,H,!0),e(c)(t,S)&&(t.note.classList.remove("success"),t.note.innerHTML="")}),4e3)}}}]),t}();new(0,u.default);(new(0,M.default)).addGalleryHandler();var _=new b(p.containerGallery,T.default),C=new(0,x.default)(p.containerPag),O=new k,Q=new P;function W(){return I.apply(this,arguments)}function I(){return I=e(i)(e(a).mark((function t(){var n,r,s=arguments;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:1,O.show(),e.prev=2,e.next=5,_.getPopularMovies(n);case 5:r=e.sent,O.hide(),_.renderCards(r.results),C.updateTotalItems(r.total_results),C.goToPage(n),C.render(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0);case 16:case"end":return e.stop()}}),t,null,[[2,13]])}))),I.apply(this,arguments)}function K(e){return E.apply(this,arguments)}function E(){return E=e(i)(e(a).mark((function t(n){var r,s,i=arguments;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:1,e.prev=1,e.next=4,_.getQueryMovies(n,r);case 4:if((s=e.sent)&&s.total_results){e.next=9;break}return G(L.NOTIFY_UNCORRECT_SEARCH),W(),e.abrupt("return");case 9:Q.notifySuccess(),_.renderCards(s.results),C.updateTotalItems(s.total_results),C.goToPage(r),C.render(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:case"end":return e.stop()}}),t,null,[[1,16]])}))),E.apply(this,arguments)}function G(e){p.searchFormRef.dataset.message=e,Q.notifyFailure(),setTimeout((function(){p.searchFormRef.dataset.message=""}),4e3)}p.searchFormRef.addEventListener("submit",(function(e){e.preventDefault(),K(e.target.elements.search.value.trim())&&this.reset()})),C.on("aftermove",(function(e){_.currentQuery?K(_.currentQuery,e.page):W(e.page)})),v.localStorageFilms.saveItemsForArrayAfterReload(),W(),s("5xtVg"),s("aruhj")}();
//# sourceMappingURL=index.279648c4.js.map
