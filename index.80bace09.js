function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},s={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in s){var t=s[e];delete s[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){s[e]=t},t.parcelRequired7c6=a),a("98X4p"),a("9M0Rn"),a("gScR6"),a("1wH5c");var n=a("6mZGd"),i=a("jkMrE"),o=a("g6yUq"),l=a("gMe87"),d=(n=a("6mZGd"),a("8WKcv")),u=a("cEPyp"),c=a("bGr86");const f=new(0,n.default),h=new(0,d.default);var g=new WeakMap,p=new WeakMap;var v=a("6nUKJ"),w=(u=a("cEPyp"),a("9M0Rn"));c=a("bGr86");var y=a("hMpod"),m=a("hXrWV");c=a("bGr86");new(0,n.default);(new(0,v.default)).addGalleryHandler();const R=new class{async getPopularMovies(e){this.genres=await f.fetchGenres();return(await f.fetchTrendingMovies(e)).data}renderCards(t){h.update(t,this.genres),e(i)(this,g).innerHTML=e(i)(this,p).call(this,{movies:t,library:!1}),c.headerRef.scrollIntoView(top),u.localStorageFilms.addItemsOnCurrentPage(t)}async getQueryMovies(e,t=1){if(this.currentQuery=e,""===e)return;return await f.getMoviesByName(e,t)}async getMovieDetails(e){if(!e)return;return await f.fetchMoviesByID(e)}constructor(t,r){e(o)(this,g,{writable:!0,value:void 0}),e(o)(this,p,{writable:!0,value:void 0}),e(l)(this,g,t),e(l)(this,p,r),this.currentQuery="",this.genres=null}}(c.containerGallery,y.default),M=new(0,w.default)(c.containerPag),T=new class{hide(){this.spinnerRef.classList.add("is-hidden"),this.hidden=!0}show(){this.spinnerRef.classList.remove("is-hidden"),this.hidden=!1}constructor(){this.spinnerRef=c.spinnerRef,this.hidden=!0}};async function b(e=1){T.show();try{const t=await R.getPopularMovies(e);T.hide(),R.renderCards(t.results),M.updateTotalItems(t.total_results),M.goToPage(e),M.render()}catch(e){console.error(e)}}async function C(e,t=1){try{const r=await R.getQueryMovies(e,t);if(!r)return _(m.NOTIFY_UNCORRECT_SEARCH),void b();if(0===r.total_results)return _(m.NOTIFY_UNCORRECT_SEARCH),void b();console.log("Searched Movies:",r),R.renderCards(r.results),M.updateTotalItems(r.total_results),M.goToPage(t),M.render()}catch(e){console.log(e)}}function _(e){c.searchFormRef.dataset.message=e,setTimeout((()=>{c.searchFormRef.dataset.message=""}),4e3)}c.searchFormRef.addEventListener("submit",(function(e){e.preventDefault();C(e.target.elements.search.value.trim())&&this.reset()})),M.on("aftermove",(e=>{R.currentQuery?C(R.currentQuery,e.page):b(e.page)})),u.localStorageFilms.saveItemsForArrayAfterReload(),b(),a("bTcpz"),a("16eij");
//# sourceMappingURL=index.80bace09.js.map
