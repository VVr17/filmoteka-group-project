{"mappings":"oeAEAA,EAAA,SCDAA,EAAA,S,0DAAMC,QAwBN,MAOMC,EAAc,IAAI,EAAAC,EAAAF,SAmDlBG,EAAoBC,SAASC,cAAc,aAC9BD,SAASC,cAAc,YAE/BC,iBAAiB,SAE5B,SAA4BC,GAC1BA,EAAEC,iBAEF,MAAMC,EAAUF,EAAEG,OAAOC,QAAQ,qBACjC,IAAKF,EACH,QAQJG,eAAmCC,GACjC,MAAMC,EAAMC,sCAA0BF,EAA1BE,4CACZC,QAAQC,IAAIH,IAQd,SAAiCI,GAC/Bf,EAAkBgB,UAAUC,OAAO,aAAa,GAIhDnB,EAAYoB,iBAAiBH,GAMRf,EAAkBE,cAAc,oBACxCiB,WAAY,EAAAC,EAAAvB,SAA0BkB,E,CAfnDM,QAJuBC,EAAMC,IAAIZ,IAIAa,K,CAVjCC,CAFgBnB,EAAQoB,QAAQhB,Q,0GDhFlC,MAAMiB,EAAiB,IAAI,EAAAC,EAAA/B,SAC3B8B,EAAeE,oBAEf,MAAMC,EAAe7B,SAASC,cAAc,QACtC6B,EAAa,IAAI,EAAAC,EAAAnC,SAAWiC,GAElCjB,QAAQC,IAAI,0BACZD,QAAQC,IAAI,aAAciB,GAC1BlB,QAAQC,IAAI,WAAYmB,EAAApC,SACxBgB,QAAQC,IAAI,iBAAkBa,GAe9B,MAAMO,EAAmBjC,SAASC,cAAc,kBAChC,IAAI,EAAAiC,EAAAtC,SAAQqC,EAAkBD,EAAApC,SAI9B,IAAI,EAAAuC,EAAAvC,SAAQ,eAIb,SAAAwC,EAAcC,GAC3B,IACE,MAAMC,EAAkBC,aAAaC,QAAQH,GAC7C,OAA2B,OAApBC,OAA2BG,EAAYC,KAAKC,MAAML,E,CACzD,MAAOM,GACPhC,QAAQgC,MAAM,oBAAqBA,EAAMC,Q,EAM7C,MAAMC,EAASV,EAAK,SACdW,EAASX,EAAK,SAEpBxB,QAAQC,IAAIiC,QAEGL,IAAXK,GACEA,EAAOE,OAAS,GAClBC,EAAgBH,GAKpB,MAAMI,EAAMlD,SAASC,cAAc,WAC7BkD,EAAWD,EAAIE,iBAAiB,sBA2BpC,SAASH,EAAgBI,GACPrD,SAASC,cAAc,kBAC/BiB,WAAY,EAAAc,EAAApC,SAAS,C,OAAEyD,EAAQC,SAAS,G,CA5BpD1C,QAAQC,IAAIsC,GAEZD,EAAIhD,iBAAiB,SAErB,SAAmBqD,GACjB,GAA8B,WAA1BA,EAAMjD,OAAOkD,SACf,OAEFL,EAASM,SAAQ,SAAUC,GACzBA,EAAO3C,UAAU4C,OAAO,iB,IAGM,YAA7BJ,EAAMjD,OAAOsD,aAEdL,EAAMjD,OAAOS,UAAU8C,IAAI,kBAE/BZ,EAAgBH,IAGuB,UAA7BS,EAAMjD,OAAOsD,cAEnBL,EAAMjD,OAAOS,UAAU8C,IAAI,kBAC3BZ,EAAgBF,G","sources":["src/myLibrary.js","src/js/temp/antonTempTest.js"],"sourcesContent":["// do not write code here\n// only import can be inserted\nimport './js/utils/handlebars-helpers';\n\n//Anton's temporary test code----------------------------\nimport './js/temp/antonTempTest';\n//Anton's temporary test code----------------------------\n\nimport './js/classes/HeaderBtnHandler';\nimport './js/modal';\nimport './js/teamAccordion';\n\nimport Pagination from './js/classes/Pagination';\nimport GalleryHandler from './js/classes/GalleryHandler';\nimport template from './templates/movieCard.hbs';\n\nconst galleryHandler = new GalleryHandler();\ngalleryHandler.addGalleryHandler();\n\nconst containerPag = document.querySelector('.pag');\nconst pagination = new Pagination(containerPag);\n\nconsole.log('this is inside Library');\nconsole.log('pagination', pagination);\nconsole.log('template', template);\nconsole.log('galleryHandler', galleryHandler);\n\n\n\n// import './js/utils/handlebars-helpers';\n// import movieCardTemplate from './templates/movieCard.hbs';\n// import localStorageFilms from './js/classes/ModalBtn';\n\n// import Pagination from './classes/Pagination';\n// import ApiService from './classes/ApiService';\n// import GalleryHandler from './classes/GalleryHandler';\nimport Spinner from './js/classes/spinner';\nimport Gallery from './js/classes/Gallery';\n// import template from '../templates/movieCard.hbs';\n\nconst containerGallery = document.querySelector('.gallery__list');\nconst gallery = new Gallery(containerGallery, template);\n\n// const containerPag = document.querySelector('.pag');\n// const pagination = new Pagination(containerPag);\nconst spinner = new Spinner('.js-spinner');\n\n\n// ф-ция взять из локал стор\nexport default function load(key){\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n\n// localStorage.clear();\n\nconst keyOne = load(\"watch\");\nconst keyTwo = load(\"queue\");\n\nconsole.log(keyOne)\n\nif (keyOne !== undefined) {\n  if (keyOne.length > 0) {\n    tempRenderCards(keyOne);\n  }; \n}\n\n\nconst btn = document.querySelector(\".header\");\nconst btnWatch = btn.querySelectorAll(\".button--dark-mode\");\nconsole.log(btnWatch)\n\nbtn.addEventListener(\"click\", selectBtn);\n\nfunction selectBtn(event) {\n  if (event.target.nodeName !== \"BUTTON\") {\n    return;\n  };\n  btnWatch.forEach(function (button) {\n    button.classList.remove(\"button--active\");\n})\n  \n\tif (event.target.textContent === \"watched\") {\n    // console.log(\"watched\")\n    event.target.classList.add(\"button--active\");\n\ntempRenderCards(keyOne)\n \n\t}\n\telse if (event.target.textContent === \"queue\") {\n    // console.log(\"queue\");\n    event.target.classList.add(\"button--active\");\n    tempRenderCards(keyTwo)\n\t}\n}\n\n  function tempRenderCards(movies) {\n  const container = document.querySelector('.gallery__list');\n  container.innerHTML = template({ movies, library: true });\n}\n\n\n\n// if (window.location.pathname === '/myLibrary.html') {\n//   pagination.on('aftermove', event => {\n//   console.log(event.page);\n\n\n//   fetchMovies(event.page);\n// });\n\n// fetchMovies();\n\n// async function fetchMovies(page = 1) {\n//   spinner.show();\n//   try {\n//     const movies = await gallery.tempRenderCards(page);\n//     spinner.hide();\n//     console.log(movies);\n//     gallery.renderCards(movies.results);\n\n//     pagination.updateTotalItems(movies.total_results);\n//     pagination.render();\n//   } catch (error) {\n//     console.error(error);\n//   }\n// }\n\n  \n// }\n","//Anton's temporary code\nconst axios = require('axios').default;\n// import '../utils/handlebars-helpers';\nimport movieCardTemplate from '../../templates/movieCard.hbs';\nimport modalMovieDetailsTemplate from '../../templates/modalMovieCard.hbs';\n\nimport { localStorageFilms } from '../classes/ModalBtn';\n\nimport CheckMovies from '../classes/CheckMovies';\n\n//Pagination init---------------------------------------------\n// import Pagination from '../classes/Pagination';\n// const container = document.querySelector('.pag');\n// const pagination = new Pagination(container);\n// pagination.on('aftermove', event => {\n//   console.log('page after move:', event.page);\n//   //here could be your code - api fetch movie with chosern page\n//   testApiPopMovies(event.page);\n// });\n// pagination.on('beforemove', event => {\n//   console.log('page before move:', event.page);\n// });\n//Pagination init---------------------------------------------\n\n//--Variables-------------------------------------------------------\nconst API_KEY_TEST = '1936ce94882661ecfd75d2c22e8905aa';\nconst url_trendings = `https://api.themoviedb.org/3/trending/movie/week?api_key=${API_KEY_TEST}&language=en-US`;\nconst url_genres = `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY_TEST}`;\nconst url_movie_details = `https://api.themoviedb.org/3/movie`;\n\n//--Variables-------------------------------------------------------\n\nconst checkMovies = new CheckMovies();\n\n// testApiPopMovies();\n\n//Test API----------------------------------------------------------\n\n// async function testApiPopMovies(page = 1) {\n//   try {\n//     //Get genres\n//     const response = await axios.get(url_genres);\n//     const genres = response.data.genres;\n//     // console.log(genres);\n\n//     //Add genres to temp LocalStorage\n//     // localStorage.setItem(GENRES_TEMP, JSON.stringify(genres));\n\n//     //Get movies list\n//     const trendings = await axios.get(url_trendings + '&page=' + page);\n//     const movies = trendings.data.results;\n//     const totalMovies = trendings.data.total_results;\n//     console.log(trendings.data);\n\n//     //Update movies genres_id with genres_name\n//     // moviesDataUpdate(genres, movies);\n\n//     checkMovies.update(movies, genres);\n\n//     //Render template\n//     tempRenderCards(movies);\n\n//     localStorageFilms.addItemsOnCurrentPage('itemsOnCurrentPage', movies);\n\n//     //Render Pagination\n//     pagination.updateTotalItems(totalMovies);\n//     pagination.render();\n//   } catch (error) {\n//     console.error(error);\n//   }\n// }\n\n//Test API----------------------------------------------------------\n\n// function tempRenderCards(movies) {\n//   const container = document.querySelector('.gallery__list');\n\n//   //library = false if render gallery\n//   //library = true if render library\n//   container.innerHTML = movieCardTemplate({ movies, library: true });\n// }\n\n////////////////////============Modal window movie card==============/////////////////////\nconst modalMovieDetails = document.querySelector('.backdrop');\nconst galleryRef = document.querySelector('.gallery');\n\ngalleryRef.addEventListener('click', onGalleryClickTest);\n\nfunction onGalleryClickTest(e) {\n  e.preventDefault();\n\n  const cardRef = e.target.closest('.movie-card__link');\n  if (!cardRef) {\n    return;\n  }\n\n  const movieId = cardRef.dataset.movieId;\n\n  testApiMovieDetails(movieId);\n}\n\nasync function testApiMovieDetails(movieId) {\n  const url = url_movie_details + '/' + movieId + '?api_key=' + API_KEY_TEST;\n  console.log(url);\n  const response = await axios.get(url);\n\n  // console.log(response.data);\n\n  renderMovieDetailsModal(response.data);\n}\n\nfunction renderMovieDetailsModal(movie) {\n  modalMovieDetails.classList.toggle('is-hidden', false);\n\n  //Check Poster Image\n  // checkMoviePoster(movie);\n  checkMovies.checkMoviePoster(movie);\n\n  //Check genres\n  // const genres = localStorage.getItem(GENRES_TEMP);\n  // checkGenres(movie, genres, 3);\n\n  const modalContent = modalMovieDetails.querySelector('.finfo-moviecard');\n  modalContent.innerHTML = modalMovieDetailsTemplate(movie);\n}\n////////////////////============Modal window movie card==============/////////////////////\n"],"names":["parcelRequire","default","$fb04b085de46c27b$var$checkMovies","$8WKcv","$fb04b085de46c27b$var$modalMovieDetails","document","querySelector","addEventListener","e","preventDefault","cardRef","target","closest","async","movieId","url","$fb04b085de46c27b$var$url_movie_details","console","log","movie","classList","toggle","checkMoviePoster","innerHTML","$4qVXX","$fb04b085de46c27b$var$renderMovieDetailsModal","$fb04b085de46c27b$require$axios","get","data","$fb04b085de46c27b$var$testApiMovieDetails","dataset","$924ec6f518a00c90$var$galleryHandler","$6nUKJ","addGalleryHandler","$924ec6f518a00c90$var$containerPag","$924ec6f518a00c90$var$pagination","$9M0Rn","$hMpod","$924ec6f518a00c90$var$containerGallery","$esqve","$4Wuyl","$924ec6f518a00c90$export$2e2bcd8739ae039","key","serializedState","localStorage","getItem","undefined","JSON","parse","error","message","$924ec6f518a00c90$var$keyOne","$924ec6f518a00c90$var$keyTwo","length","$924ec6f518a00c90$var$tempRenderCards","$924ec6f518a00c90$var$btn","$924ec6f518a00c90$var$btnWatch","querySelectorAll","movies","library","event","nodeName","forEach","button","remove","textContent","add"],"version":3,"file":"myLibrary.21bcf322.js.map"}