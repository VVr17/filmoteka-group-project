{"mappings":"qhBAEAA,EAAA,S,sBCFA,IAAAC,EAAAD,EAAA,S,0BAAME,QAGJC,EAAQ,IAAAC,QACRC,EAAS,IAAAD,QACTE,EAAa,IAAAF,Q,WCHf,MAAMG,EAAmBC,SAASC,cAAc,gBAC1CC,EAAWF,SAASC,cAAc,iBAExCF,WAAkBI,iBAAiB,UAInC,SAAwBC,GACtBA,EAAMC,iBAEN,IAAIC,EAAcJ,EAASK,MAI3B,GAHAD,EAAYE,OAEZC,EAAWC,aAAa,UACL,IAAfJ,EAQF,OAPAP,EAAiBY,QAAQC,QACvB,gEAGFC,YAAW,KACTd,EAAiBY,QAAQC,QAAU,EAAE,GACpC,MAILH,EAAWK,UAAUR,EAAa,E,IApBpC,MAAMG,EAAa,IDLJ,MAabM,mBAAmBC,GACjB,IAEE,aADuBC,EAAMC,IAAGC,EAAA1B,EAAA,CAAC2B,KAAMvB,GAAQsB,EAAA1B,EAAA,CAAE2B,KAAMtB,G,CAEvD,MAAOuB,G,EAKXN,gBAAgBC,EAAOM,GACjBN,IACFG,EAAA1B,EAAA,CAAA2B,KAAMtB,GAAayB,OAAOP,MAAQA,EAClCG,EAAA1B,EAAA,CAAA2B,KAAMtB,GAAayB,OAAOD,KAAOA,GAEnC,MAAME,QAAiBJ,KAAKV,eAE5B,OADAe,QAAQC,IAAIF,GACLA,C,CAlBTG,cAVAR,EAAAS,EAAA,CAAAR,KAAAzB,EAAQ,C,kBAAG,qCACXwB,EAAAS,EAAA,CAAAR,KAAAvB,EAAS,C,kBAAG,8CACZsB,EAAAS,EAAA,CAAAR,KAAAtB,EAAa,C,kBAAG,CACdyB,OAAQ,CACNM,QAAOV,EAAA1B,EAAA,CAAE2B,KAAMzB,GACfqB,MAAO,GAEPc,eAAe,K,GEVrB,IAAAC,EAAAvC,EAAA,S,8EAQmB,IAAI,EAAAwC,EAAAtC,UACA,IAAI,EAAAuC,EAAAvC,UACZwC,oBAEf,MAAMC,EAAmBnC,SAASC,cAAc,eAC1CmC,EAAU,IAAI,EAAAC,EAAA3C,SAAQyC,EAAkBG,EAAA5C,SAExC6C,EAAevC,SAASC,cAAc,QACtCuC,EAAa,IAAI,EAAAT,EAAArC,SAAW6C,GAC5BE,EAAU,IAAI,EAAAC,EAAAhD,SAAQ,eAY5BqB,eAAe4B,EAAYrB,EAAO,GAChCmB,EAAQG,OACR,IACE,MAAMC,QAAeT,EAAQU,iBAAiBxB,GAC9CmB,EAAQM,OACRtB,QAAQC,IAAImB,GACZT,EAAQY,YAAYH,EAAOI,SAE3BT,EAAWU,iBAAiBL,EAAOM,eACnCX,EAAWY,Q,CACX,MAAO/B,GACPI,QAAQJ,MAAMA,E,EArBlBgC,EAAAC,kBAAkBC,+BAElBf,EAAWgB,GAAG,aAAapD,IACzBqB,QAAQC,IAAItB,EAAMkB,MAElBqB,EAAYvC,EAAMkB,KAAK,IAGzBqB,I","sources":["src/index.js","src/js/classes/SearchingForm.js","src/js/searchingForm.js","src/js/gallery.js"],"sourcesContent":["// do not write code here\n// only import can be inserted\nimport './js/utils/handlebars-helpers';\n\n//Anton's temporary test code----------------------------\n// import './js/temp/antonTempTest';\n//Anton's temporary test code----------------------------\n\nimport './js/classes/HeaderBtnHandler';\nimport './js/classes/Pagination';\nimport './js/classes/SearchingForm';\n\nimport './js/filter';\nimport './js/modal';\nimport './js/searchingForm';\nimport './js/gallery';\nimport './js/teamAccordion';\n","const axios = require('axios').default;\n\nexport default class SearchingForm {\n  #API_KEY = '1351fe1fee33f4dc7ca86c3a4fb4a61c';\n  #BASE_URL = 'https://api.themoviedb.org/3/search/movie';\n  #searchParams = {\n    params: {\n      api_key: this.#API_KEY,\n      query: '',\n      // page: 1,\n      include_adult: false,\n    },\n  };\n  constructor() {}\n\n  async searchMovies(query) {\n    try {\n      const response = await axios.get(this.#BASE_URL, this.#searchParams);\n      return response;\n    } catch (error) {\n      // console.error(error);\n    }\n  }\n\n  async getMovies(query, page) {\n    if (query) {\n      this.#searchParams.params.query = query;\n      this.#searchParams.params.page = page;\n    }\n    const response = await this.searchMovies();\n    console.log(response);\n    return response;\n  }\n}\n","import SearchingForm from './classes/SearchingForm';\n\nconst searchingFormRef = document.querySelector('.search-form');\nconst inputRef = document.querySelector('.search-input');\n\nsearchingFormRef?.addEventListener('submit', onSearchSubmit);\n\nconst formSearch = new SearchingForm();\n\nfunction onSearchSubmit(event) {\n  event.preventDefault();\n\n  let searchValue = inputRef.value;\n  searchValue.trim();\n\n  formSearch.searchMovies('Killer');\n  if (searchValue == '') {\n    searchingFormRef.dataset.message =\n      'Search attempt not successful. Please, enter movie name.';\n    //\n\n    setTimeout(() => {\n      searchingFormRef.dataset.message = '';\n    }, 5500);\n    return;\n  }\n\n  formSearch.getMovies(searchValue, 1);\n}\n","import Pagination from './classes/Pagination';\nimport ApiService from './classes/ApiService';\nimport GalleryHandler from './classes/GalleryHandler';\nimport Spinner from './classes/spinner';\nimport Gallery from './classes/Gallery';\nimport template from '../templates/movieCard.hbs';\nimport { localStorageFilms } from './classes/ModalBtn';\n\nconst apiService = new ApiService();\nconst galleryHandler = new GalleryHandler();\ngalleryHandler.addGalleryHandler();\n\nconst containerGallery = document.querySelector('.js-gallery');\nconst gallery = new Gallery(containerGallery, template);\n\nconst containerPag = document.querySelector('.pag');\nconst pagination = new Pagination(containerPag);\nconst spinner = new Spinner('.js-spinner');\n\nlocalStorageFilms.saveItemsForArrayAfterReload();\n\npagination.on('aftermove', event => {\n  console.log(event.page);\n\n  fetchMovies(event.page);\n});\n\nfetchMovies();\n\nasync function fetchMovies(page = 1) {\n  spinner.show();\n  try {\n    const movies = await gallery.getPopularMovies(page);\n    spinner.hide();\n    console.log(movies);\n    gallery.renderCards(movies.results);\n\n    pagination.updateTotalItems(movies.total_results);\n    pagination.render();\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport { apiService, gallery };\n"],"names":["parcelRequire","$jkMrE","default","$192827e210a0018a$var$_API_KEY","WeakMap","$192827e210a0018a$var$_BASE_URL","$192827e210a0018a$var$_searchParams","$1c7442b436582821$var$searchingFormRef","document","querySelector","$1c7442b436582821$var$inputRef","addEventListener","event","preventDefault","searchValue","value","trim","$1c7442b436582821$var$formSearch","searchMovies","dataset","message","setTimeout","getMovies","async","query","$192827e210a0018a$require$axios","get","$parcel$interopDefault","this","error","page","params","response","console","log","constructor","$g6yUq","api_key","include_adult","$9M0Rn","$6mZGd","$6nUKJ","addGalleryHandler","$7c59f4ec4043ce00$var$containerGallery","$7c59f4ec4043ce00$export$b21c1b4271bdbe93","$esqve","$hMpod","$7c59f4ec4043ce00$var$containerPag","$7c59f4ec4043ce00$var$pagination","$7c59f4ec4043ce00$var$spinner","$4Wuyl","$7c59f4ec4043ce00$var$fetchMovies","show","movies","getPopularMovies","hide","renderCards","results","updateTotalItems","total_results","render","$cEPyp","localStorageFilms","saveItemsForArrayAfterReload","on"],"version":3,"file":"index.8a0f0b67.js.map"}