function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return r[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequired7c6=i),i("98X4p"),i("9M0Rn");var o,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,f="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,v=f||d||Function("return this")(),h=Object.prototype.toString,p=Math.max,g=Math.min,y=function(){return v.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function w(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var r=u.test(e);return r||c.test(e)?l(e.slice(2),r?2:8):s.test(e)?NaN:+e}o=function(e,t,r){var n,i,o,a,s,u,c=0,l=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=n,o=i;return n=i=void 0,c=t,a=e.apply(o,r)}function h(e){return c=e,s=setTimeout(M,t),l?v(e):a}function b(e){var r=e-u;return void 0===u||r>=t||r<0||f&&e-c>=o}function M(){var e=y();if(b(e))return R(e);s=setTimeout(M,function(e){var r=t-(e-u);return f?g(r,o-(e-c)):r}(e))}function R(e){return s=void 0,d&&n?v(e):(n=i=void 0,a)}function T(){var e=y(),r=b(e);if(n=arguments,i=this,u=e,r){if(void 0===s)return h(u);if(f)return s=setTimeout(M,t),v(u)}return void 0===s&&(s=setTimeout(M,t)),a}return t=w(t)||0,m(r)&&(l=!!r.leading,o=(f="maxWait"in r)?p(w(r.maxWait)||0,t):o,d="trailing"in r?!!r.trailing:d),T.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=u=i=s=void 0},T.flush=function(){return void 0===s?a:R(y())},T};var b=i("bGr86");window.addEventListener("scroll",e(o)((function(){window.pageYOffset>=1e3?b.buttonUpRef.classList.toggle("hidden",!1):b.buttonUpRef.classList.toggle("hidden",!0)}),500)),i("1wH5c");var M=i("6mZGd"),R=i("jkMrE"),T=i("g6yUq"),O=i("gMe87"),E=(M=i("6mZGd"),i("8WKcv")),j=i("cEPyp");b=i("bGr86");const C=new(0,M.default),N=new(0,E.default);var _=new WeakMap,x=new WeakMap;var F=i("6nUKJ"),G=(j=i("cEPyp"),i("9M0Rn"));b=i("bGr86");var I=i("hMpod"),L=i("hXrWV");b=i("bGr86");new(0,M.default);(new(0,F.default)).addGalleryHandler();const P=new class{async getPopularMovies(e){this.genres=await C.fetchGenres();return(await C.fetchTrendingMovies(e)).data}renderCards(t){N.update(t,this.genres),e(R)(this,_).innerHTML=e(R)(this,x).call(this,{movies:t,library:!1}),b.headerRef.scrollIntoView(top),j.localStorageFilms.addItemsOnCurrentPage(t)}async getQueryMovies(e,t=1){if(this.currentQuery=e,""===e)return;return await C.getMoviesByName(e,t)}async getMovieDetails(e){if(!e)return;return await C.fetchMoviesByID(e)}constructor(t,r){e(T)(this,_,{writable:!0,value:void 0}),e(T)(this,x,{writable:!0,value:void 0}),e(O)(this,_,t),e(O)(this,x,r),this.currentQuery="",this.genres=null}}(b.containerGallery,I.default),U=new(0,G.default)(b.containerPag),S=new class{hide(){this.spinnerRef.classList.add("is-hidden"),this.hidden=!0}show(){this.spinnerRef.classList.remove("is-hidden"),this.hidden=!1}constructor(){this.spinnerRef=b.spinnerRef,this.hidden=!0}};async function D(e=1){S.show();try{const t=await P.getPopularMovies(e);S.hide(),P.renderCards(t.results),U.updateTotalItems(t.total_results),U.goToPage(e),U.render()}catch(e){console.error(e)}}async function Q(e,t=1){try{const r=await P.getQueryMovies(e,t);if(!r)return W(L.NOTIFY_UNCORRECT_SEARCH),void D();if(0===r.total_results)return W(L.NOTIFY_UNCORRECT_SEARCH),void D();console.log("Searched Movies:",r),P.renderCards(r.results),U.updateTotalItems(r.total_results),U.goToPage(t),U.render()}catch(e){console.log(e)}}function W(e){b.searchFormRef.dataset.message=e,setTimeout((()=>{b.searchFormRef.dataset.message=""}),4e3)}b.searchFormRef.addEventListener("submit",(function(e){e.preventDefault();Q(e.target.elements.search.value.trim())&&this.reset()})),U.on("aftermove",(e=>{P.currentQuery?Q(P.currentQuery,e.page):D(e.page)})),j.localStorageFilms.saveItemsForArrayAfterReload(),D(),i("bTcpz"),i("16eij");
//# sourceMappingURL=index.1ca18b22.js.map
