{"mappings":"iiBAEAA,EAAA,SCDA,IAAAC,EAAAD,EAAA,S,kFAAME,QAwBAC,EAAe,mCAOfC,GANgB,4DAAyEC,OAAbF,EAAa,mBAC5E,yDAAsEE,OAAbF,GAKxD,IAAI,EAAAG,EAAAJ,UAmDlBK,EAAoBC,SAASC,cAAc,a,SAkBlCC,I,OAAAA,EAAfC,EAAAV,EAAA,CAAAU,EAAAC,GAAAC,MAAA,SAAAC,EAAmCC,G,IAC3BC,E,yEAAAA,EAAMC,sCAA0BF,EAAU,YAAcZ,EAC9De,QAAQC,IAAIH,G,SACWI,EAAMC,IAAIL,G,OAIjCM,EAJcC,EAAAC,KAImBC,M,4CAPDC,MAAAC,KAAAC,U,CAUlC,SAASN,EAAwBO,GAC/BtB,EAAkBuB,UAAUC,OAAO,aAAa,GAIhD3B,EAAY4B,iBAAiBH,GAMRtB,EAAkBE,cAAc,oBACxCwB,WAAY,EAAAC,EAAAhC,SAA0B2B,E,CAvClCrB,SAASC,cAAc,YAE/B0B,iBAAiB,SAE5B,SAA4BC,GAC1BA,EAAEC,iBAEF,IAAMC,EAAUF,EAAEG,OAAOC,QAAQ,qBACjC,IAAKF,EACH,Q,SAQ+BvB,GAApBL,EAAmBgB,MAAAC,KAAAC,U,CAHhCa,CAFgBH,EAAQI,QAAQ3B,Q,gFDhF5B4B,EAAiB,IAAI,EAAAC,EAAA1C,SAC3ByC,EAAeE,oBAEf,IAAMC,EAAetC,SAASC,cAAc,QACtCsC,EAAa,IAAI,EAAAC,EAAA9C,SAAW4C,GAElC5B,QAAQC,IAAI,0BACZD,QAAQC,IAAI,aAAc4B,GAC1B7B,QAAQC,IAAI,WAAY8B,EAAA/C,SACxBgB,QAAQC,IAAI,iBAAkBwB,E","sources":["src/myLibrary.js","src/js/temp/antonTempTest.js"],"sourcesContent":["// do not write code here\n// only import can be inserted\nimport './js/utils/handlebars-helpers';\n\n//Anton's temporary test code----------------------------\nimport './js/temp/antonTempTest';\n//Anton's temporary test code----------------------------\n\nimport './js/classes/HeaderBtnHandler';\nimport './js/modal';\nimport './js/teamAccordion';\n\nimport Pagination from './js/classes/Pagination';\nimport GalleryHandler from './js/classes/GalleryHandler';\nimport template from './templates/movieCard.hbs';\n\nconst galleryHandler = new GalleryHandler();\ngalleryHandler.addGalleryHandler();\n\nconst containerPag = document.querySelector('.pag');\nconst pagination = new Pagination(containerPag);\n\nconsole.log('this is inside Library');\nconsole.log('pagination', pagination);\nconsole.log('template', template);\nconsole.log('galleryHandler', galleryHandler);\n","//Anton's temporary code\nconst axios = require('axios').default;\n// import '../utils/handlebars-helpers';\nimport movieCardTemplate from '../../templates/movieCard.hbs';\nimport modalMovieDetailsTemplate from '../../templates/modalMovieCard.hbs';\n\nimport { localStorageFilms } from '../classes/ModalBtn';\n\nimport CheckMovies from '../classes/CheckMovies';\n\n//Pagination init---------------------------------------------\n// import Pagination from '../classes/Pagination';\n// const container = document.querySelector('.pag');\n// const pagination = new Pagination(container);\n// pagination.on('aftermove', event => {\n//   console.log('page after move:', event.page);\n//   //here could be your code - api fetch movie with chosern page\n//   testApiPopMovies(event.page);\n// });\n// pagination.on('beforemove', event => {\n//   console.log('page before move:', event.page);\n// });\n//Pagination init---------------------------------------------\n\n//--Variables-------------------------------------------------------\nconst API_KEY_TEST = '1936ce94882661ecfd75d2c22e8905aa';\nconst url_trendings = `https://api.themoviedb.org/3/trending/movie/week?api_key=${API_KEY_TEST}&language=en-US`;\nconst url_genres = `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY_TEST}`;\nconst url_movie_details = `https://api.themoviedb.org/3/movie`;\n\n//--Variables-------------------------------------------------------\n\nconst checkMovies = new CheckMovies();\n\n// testApiPopMovies();\n\n//Test API----------------------------------------------------------\n\n// async function testApiPopMovies(page = 1) {\n//   try {\n//     //Get genres\n//     const response = await axios.get(url_genres);\n//     const genres = response.data.genres;\n//     // console.log(genres);\n\n//     //Add genres to temp LocalStorage\n//     // localStorage.setItem(GENRES_TEMP, JSON.stringify(genres));\n\n//     //Get movies list\n//     const trendings = await axios.get(url_trendings + '&page=' + page);\n//     const movies = trendings.data.results;\n//     const totalMovies = trendings.data.total_results;\n//     console.log(trendings.data);\n\n//     //Update movies genres_id with genres_name\n//     // moviesDataUpdate(genres, movies);\n\n//     checkMovies.update(movies, genres);\n\n//     //Render template\n//     tempRenderCards(movies);\n\n//     localStorageFilms.addItemsOnCurrentPage('itemsOnCurrentPage', movies);\n\n//     //Render Pagination\n//     pagination.updateTotalItems(totalMovies);\n//     pagination.render();\n//   } catch (error) {\n//     console.error(error);\n//   }\n// }\n\n//Test API----------------------------------------------------------\n\n// function tempRenderCards(movies) {\n//   const container = document.querySelector('.gallery__list');\n\n//   //library = false if render gallery\n//   //library = true if render library\n//   container.innerHTML = movieCardTemplate({ movies, library: true });\n// }\n\n////////////////////============Modal window movie card==============/////////////////////\nconst modalMovieDetails = document.querySelector('.backdrop');\nconst galleryRef = document.querySelector('.gallery');\n\ngalleryRef.addEventListener('click', onGalleryClickTest);\n\nfunction onGalleryClickTest(e) {\n  e.preventDefault();\n\n  const cardRef = e.target.closest('.movie-card__link');\n  if (!cardRef) {\n    return;\n  }\n\n  const movieId = cardRef.dataset.movieId;\n\n  testApiMovieDetails(movieId);\n}\n\nasync function testApiMovieDetails(movieId) {\n  const url = url_movie_details + '/' + movieId + '?api_key=' + API_KEY_TEST;\n  console.log(url);\n  const response = await axios.get(url);\n\n  // console.log(response.data);\n\n  renderMovieDetailsModal(response.data);\n}\n\nfunction renderMovieDetailsModal(movie) {\n  modalMovieDetails.classList.toggle('is-hidden', false);\n\n  //Check Poster Image\n  // checkMoviePoster(movie);\n  checkMovies.checkMoviePoster(movie);\n\n  //Check genres\n  // const genres = localStorage.getItem(GENRES_TEMP);\n  // checkGenres(movie, genres, 3);\n\n  const modalContent = modalMovieDetails.querySelector('.finfo-moviecard');\n  modalContent.innerHTML = modalMovieDetailsTemplate(movie);\n}\n////////////////////============Modal window movie card==============/////////////////////\n"],"names":["parcelRequire","$bpxeT","default","$9b572c3402116f69$var$API_KEY_TEST","$9b572c3402116f69$var$checkMovies","concat","$1LeHf","$9b572c3402116f69$var$modalMovieDetails","document","querySelector","$9b572c3402116f69$var$_testApiMovieDetails","$parcel$interopDefault","$2TvXO","mark","_callee","movieId","url","$9b572c3402116f69$var$url_movie_details","console","log","$9b572c3402116f69$require$axios","get","$9b572c3402116f69$var$renderMovieDetailsModal","_ctx","sent","data","apply","this","arguments","movie","classList","toggle","checkMoviePoster","innerHTML","$lc9OV","addEventListener","e","preventDefault","cardRef","target","closest","$9b572c3402116f69$var$testApiMovieDetails","dataset","$de91a1af95a41f9e$var$galleryHandler","$7MumP","addGalleryHandler","$de91a1af95a41f9e$var$containerPag","$de91a1af95a41f9e$var$pagination","$fc6Dh","$85dma"],"version":3,"file":"myLibrary.a3d8e7c4.js.map"}