!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a),a("2p6Fd"),a("dkSbo"),a("4ppPV");var s=a("bpxeT"),u=a("8MBJY"),i=a("4KMWL"),o=a("8MQK7"),c=a("a2hTj"),l=a("2TvXO"),p=a("dIxxU").default,v=new WeakMap,d=new WeakMap,h=new WeakMap,f=function(){"use strict";function t(){e(u)(this,t),e(o)(this,v,{writable:!0,value:"1351fe1fee33f4dc7ca86c3a4fb4a61c"}),e(o)(this,d,{writable:!0,value:"https://api.themoviedb.org/3/search/movie"}),e(o)(this,h,{writable:!0,value:{params:{api_key:e(i)(this,v),query:"",include_adult:!1}}})}return e(c)(t,[{key:"searchMovies",value:function(t){var r=this;return e(s)(e(l).mark((function t(){var n;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.get(e(i)(r,d),e(i)(r,h));case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},{key:"getMovies",value:function(t,r){var n=this;return e(s)(e(l).mark((function a(){var s;return e(l).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t&&(e(i)(n,h).params.query=t,e(i)(n,h).params.page=r),a.next=3,n.searchMovies();case 3:return s=a.sent,console.log(s),a.abrupt("return",s);case 6:case"end":return a.stop()}}),a)})))()}}]),t}();a("5xtVg");var w=document.querySelector(".search-form"),m=document.querySelector(".search-input");null==w||w.addEventListener("submit",(function(e){e.preventDefault();var t=m.value;if(t.trim(),g.searchMovies("Killer"),""==t)return w.dataset.message="Search attempt not successful. Please, enter movie name.",void setTimeout((function(){w.dataset.message=""}),5500);g.getMovies(t,1)}));var g=new f;s=a("bpxeT"),l=a("2TvXO");var b=a("fc6Dh"),y=(s=a("bpxeT"),u=a("8MBJY"),i=a("4KMWL"),o=a("8MQK7"),c=a("a2hTj"),l=a("2TvXO"),a("dIxxU").default),M=new WeakMap,k=new WeakMap,x=new WeakMap,T=new WeakMap,W=new WeakMap,q=new WeakMap,_=function(){"use strict";function t(){e(u)(this,t),e(o)(this,M,{writable:!0,value:"1351fe1fee33f4dc7ca86c3a4fb4a61c"}),e(o)(this,k,{writable:!0,value:"https://api.themoviedb.org/3/genre/movie/list"}),e(o)(this,x,{writable:!0,value:"https://api.themoviedb.org/3/trending/movie/day"}),e(o)(this,T,{writable:!0,value:"https://api.themoviedb.org/3/search/movie"}),e(o)(this,W,{writable:!0,value:{params:{api_key:e(i)(this,M),query:"",page:1,include_adult:!1}}}),e(o)(this,q,{writable:!0,value:{params:{api_key:e(i)(this,M)}}})}return e(c)(t,[{key:"fetchGenres",value:function(){var t=this;return e(s)(e(l).mark((function r(){var n,a;return e(l).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,y.get(e(i)(t,k),e(i)(t,q));case 3:return n=r.sent,a=n.data.genres,r.abrupt("return",a);case 8:r.prev=8,r.t0=r.catch(0),console.error(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()}},{key:"fetchTrendingMovies",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=this;return e(s)(e(l).mark((function n(){var a,s;return e(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={params:{api_key:e(i)(r,M),page:t}},n.prev=1,n.next=4,y.get(e(i)(r,x),a);case 4:return s=n.sent,n.abrupt("return",s);case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()}},{key:"fetchMoviesByName",value:function(){var t=this;return e(s)(e(l).mark((function r(){var n;return e(l).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,y.get(e(i)(t,T),e(i)(t,W));case 3:return n=r.sent,r.abrupt("return",n);case 7:r.prev=7,r.t0=r.catch(0),console.error(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()}},{key:"getMoviesByName",value:function(t){var r=this;return e(s)(e(l).mark((function n(){var a;return e(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t&&(e(i)(r,W).query=t,e(i)(r,W).page=1),n.next=3,r.fetchMoviesByName();case 3:return a=n.sent,n.abrupt("return",a.data.results);case 5:case"end":return n.stop()}}),n)})))()}}]),t}(),L=a("7MumP"),S=(u=a("8MBJY"),c=a("a2hTj"),function(){"use strict";function t(r){e(u)(this,t),this.buttonRef=document.querySelector(r),this.hidden=!0}return e(c)(t,[{key:"hide",value:function(){this.buttonRef.classList.add("is-hidden"),this.hidden=!0}},{key:"show",value:function(){this.buttonRef.classList.remove("is-hidden"),this.hidden=!1}}]),t}()),O=(s=a("bpxeT"),u=a("8MBJY"),i=a("4KMWL"),o=a("8MQK7"),a("dPxxm")),j=(c=a("a2hTj"),l=a("2TvXO"),a("1LeHf")),B=a("8Seta"),K=new _,P=new(0,j.default),N=new WeakMap,R=new WeakMap,C=function(){"use strict";function t(r,n){e(u)(this,t),e(o)(this,N,{writable:!0,value:void 0}),e(o)(this,R,{writable:!0,value:void 0}),e(O)(this,N,r),e(O)(this,R,n),this.currentQuery="",this.genres=null}return e(c)(t,[{key:"getPopularMovies",value:function(t){var r=this;return e(s)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.fetchGenres();case 2:return r.genres=e.sent,e.next=5,K.fetchTrendingMovies(t);case 5:return a=e.sent,e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),n)})))()}},{key:"renderCards",value:function(t){P.update(t,this.genres),e(i)(this,N).innerHTML=e(i)(this,R).call(this,{movies:t,library:!1}),B.localStorageFilms.addItemsOnCurrentPage(t)}}]),t}(),D=a("85dma");new _;(new(0,L.default)).addGalleryHandler();var I=new C(document.querySelector(".js-gallery"),D.default),J=document.querySelector(".pag"),Q=new(0,b.default)(J),U=new S(".js-spinner");function X(){return Y.apply(this,arguments)}function Y(){return Y=e(s)(e(l).mark((function t(){var r,n,a=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:1,U.show(),e.prev=2,e.next=5,I.getPopularMovies(r);case 5:n=e.sent,U.hide(),console.log(n),I.renderCards(n.results),Q.updateTotalItems(n.total_results),Q.render(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0);case 16:case"end":return e.stop()}}),t,null,[[2,13]])}))),Y.apply(this,arguments)}Q.on("aftermove",(function(e){console.log(e.page),X(e.page)})),X(),a("aruhj")}();
//# sourceMappingURL=index.7c604b79.js.map
